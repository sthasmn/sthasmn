<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JGRIDコーパス 動画撮影ご協力のお願い</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .tab-content {
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    .tab-content.active {
      display: block;
      opacity: 1;
    }
    /* For aspect ratio content (videos, images) */
    .aspect-w-16 { position: relative; padding-bottom: 56.25%; /* 16:9 Aspect Ratio */ }
    .aspect-h-9 { /* Helper class */ }
    .aspect-w-4 { position: relative; padding-bottom: 75%; /* 4:3 Aspect Ratio */ }
    .aspect-h-3 { /* Helper class */ }
    .aspect-content > iframe,
    .aspect-content > img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain; /* Changed to contain for screenshots */
    }
    .nav-button.active-tab {
      color: #2563eb; /* text-blue-600 */
      border-bottom-color: #2563eb; /* border-blue-600 */
    }
    .nav-button:not(.active-tab) {
      color: #57534e; /* text-stone-600 */
      border-bottom-color: transparent;
    }
    .nav-button:not(.active-tab):hover {
      color: #3b82f6; /* hover:text-blue-500 */
      border-bottom-color: #3b82f6; /* hover:border-blue-500 */
    }
    .screenshot-placeholder {
      background-color: #f0f0f0;
      border: 2px dashed #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #777;
      font-size: 0.9em;
      min-height: 200px; /* Ensure placeholder is visible */
    }
  </style>
</head>
<body class="bg-stone-100 text-stone-800 antialiased">

<header class="bg-blue-600 text-white shadow-lg">
  <div class="container mx-auto px-6 py-4">
    <h1 class="text-3xl font-bold">JGRIDコーパス 動画撮影ご協力のお願い</h1>
    <p class="text-sm">日本語リップリーディング研究のための映像・音声データ収集</p>
  </div>
</header>

<nav class="bg-white shadow-md sticky top-0 z-50">
  <div class="container mx-auto px-6">
    <ul class="flex space-x-4 sm:space-x-8 py-3 overflow-x-auto">
      <li><button data-tab="jgrid-info" id="nav-jgrid-info" class="nav-button font-semibold pb-2 border-b-2 active-tab">JGRIDについて</button></li>
      <li><button data-tab="recording-guide" id="nav-recording-guide" class="nav-button font-semibold pb-2 border-b-2">撮影の説明</button></li>
    </ul>
  </div>
</nav>

<main class="container mx-auto p-4 sm:p-6">
  <section id="jgrid-info" class="tab-content active space-y-6">
    <div class="bg-white p-6 rounded-lg shadow">
      <h2 class="text-2xl font-bold text-blue-600 mb-4">JGRIDコーパスプロジェクトへようこそ！</h2>
      <p class="mb-3 text-stone-700">
        この度は、JGRIDコーパス構築プロジェクトにご関心をお寄せいただき、ありがとうございます。
        このページでは、本プロジェクトの簡単な概要と、皆様にお願いしたい動画撮影の内容についてご説明します。
      </p>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-6">1. JGRIDコーパスとは？</h3>
      <p class="text-stone-700 mb-2">
        JGRIDコーパスは、<strong>日本語の「リップリーディング（読唇術）」研究</strong>のための新しい映像・音声データベースです。
        リップリーディングとは、騒がしい場所や声が聞こえにくい状況など、音声情報が不明瞭な場合に、話者の唇の動きから発話内容を読み取る技術のことです。
      </p>
      <p class="text-stone-700 mb-2">
        現在、英語圏では「GRID Corpus」のような大規模なデータセットが存在し、リップリーディング技術の研究開発が活発に進められています。しかし、日本語には同様の標準的なデータセットがまだ整備されていません。
      </p>
      <p class="text-stone-700">
        そこで私たちは、日本語におけるリップリーディング技術の基盤を構築し、将来的には聴覚に障害を持つ方々のコミュニケーション支援や、様々な応用技術の開発に貢献することを目指して、このJGRIDコーパスを作成しています。
        ご協力いただく映像・音声データは、この研究にとって非常に重要なものとなります。
      </p>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-8">2. どんな文章を読み上げるの？</h3>
      <p class="text-stone-700 mb-2">
        皆様には、特定の構造で作られた<strong>短い日本語の文章</strong>を、一つずつ読み上げていただく様子を動画で撮影させていただきます。
        文章の構造は、例えば以下の6つの要素で構成されます。
      </p>
      <ul class="list-disc list-inside ml-4 my-2 text-stone-700 bg-blue-50 p-3 rounded-md">
        <li><strong>副詞</strong> (例: 今すぐ, ゆっくり)</li>
        <li><strong>色</strong> (例: 赤い, 青い)</li>
        <li><strong>物体</strong> (例: ボール, 本)</li>
        <li><strong>場所</strong> (例: ア, イ, ウ)</li>
        <li><strong>数詞</strong> (例: 0, 1, 2)</li>
        <li><strong>動詞</strong> (例: 置く, 取る) とそれに伴う助詞</li>
      </ul>
      <p class="text-stone-700 mb-2">
        実際の例文としては、「<span class="font-semibold text-emerald-700 font-mono text-base sm:text-lg">今すぐ 赤い ボールを ア １ に 置く。</span>」のような文になります。
        撮影時には、PCの画面に表示されるこれらの文章を読み上げていただきます。全部で1000文章あり、100文章ずつのバッチに分けて撮影を行います。
      </p>

      <h4 class="text-lg font-semibold text-blue-700 mb-2 mt-6">ご参考：英語のGRIDコーパスの収録動画例</h4>
      <p class="text-stone-700 mb-2">
        どのような雰囲気の動画になるか、参考として英語のGRIDコーパスから同様の形式で収録された動画（音声あり）をご覧ください。
        JGRIDでは、これと似た形で、日本語の文を読み上げていただきます。
      </p>
      <div class="my-4 rounded-md overflow-hidden shadow aspect-w-16 aspect-h-9 aspect-content">
        <iframe
                src="https://drive.google.com/file/d/1LEguiRfB1lRsExlyKcElK4_ofk09KtSt/preview"
                allow="autoplay; encrypted-media"
                allowfullscreen
                title="GRID Corpus Example Video (Audio Available)">
        </iframe>
      </div>
      <p class="text-sm text-stone-600 mb-4 text-center">（この参考動画は英語のGRID CORPUSの動画です。JGRIDでは同様の形式で日本語の文を読み上げます。）</p>
      <p class="text-sm text-stone-400 mb-4 text-center">downloaded from : https://spandh.dcs.shef.ac.uk/gridcorpus/</p>
      <div class="mt-8 text-center">
        <button id="goToRecordingGuideBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75">
          動画撮影の説明へ進む
        </button>
      </div>
    </div>
  </section>

  <section id="recording-guide" class="tab-content space-y-6">
    <div class="bg-white p-6 rounded-lg shadow">
      <h2 class="text-2xl font-bold text-blue-600 mb-4">動画撮影の準備と手順</h2>
      <p class="mb-3 text-stone-700">
        高品質なデータを収集するため、以下の点にご注意いただきながら撮影を進めてください。
        撮影は、指定されたPC、カメラ、マイクを使用して行います。
        発話する文章は全部で1000文あり、100文ずつのバッチ（計10バッチ）に分けて撮影します。
      </p>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-6">1. 撮影前の設定</h3>
      <p class="text-sm text-stone-600 mb-3">各ステップのスクリーンショットも参考にしてください。（スクリーンショットはクリックで拡大表示できます - 準備中）</p>
      <ul class="list-disc list-inside space-y-4 text-stone-700">
        <li>
          <strong>参加者番号の入力:</strong> 撮影アプリケーションの「名前」の欄に、ご自身の参加者番号を入力してください。例えば、参加者番号が「3」の場合は「<samp class="bg-stone-200 px-1 rounded">s3</samp>」と入力します。
        </li>
        <li>
          <strong>文章バッチの選択:</strong> 「文章バッチを選択してください」という項目で、今回撮影するバッチ（1から10まであります）を選択します。これらは順番に行っていただきます。
          <div class="my-2 rounded-md overflow-hidden shadow">
            <img src="start_screen.png" alt="参加者番号入力欄のスクリーンショット" style="width:50%; height:50%; object-fit:contain;">
          </div>
        </li>
        <li>
          <strong>カメラとマイクの選択:</strong>
          <ul class="list-disc list-inside ml-6 mt-1 space-y-2">
            <li>「カメラを選択してください」では、「<samp class="bg-stone-200 px-1 rounded">C922 Pro Stream Webcam</samp>」（または類似の名称）を選択してください。
            </li>
            <li>「マイクを選択してください」でも、同様に「<samp class="bg-stone-200 px-1 rounded">C922 Pro Stream Webcam</samp>」（または類似の名称のついたマイク）を選択してください。
              <div class="my-2 rounded-md overflow-hidden shadow">
                <img src="camera_mic.png" alt="参加者番号入力欄のスクリーンショット" style="width:50%; height:50%; object-fit:contain;">
              </div>
            </li>
          </ul>
        </li>
        <li>
          <strong>テスト記録とダウンロード許可:</strong>
          <ul class="list-disc list-inside ml-6 mt-1 space-y-2">
            <li>設定後、「テスト記録を開始」ボタンを押して、短いテスト録画を行ってください。
              <div class="my-2 rounded-md overflow-hidden shadow">
                <img src="test.png" alt="参加者番号入力欄のスクリーンショット" style="width:50%; height:50%; object-fit:contain;">
              </div>
            </li>
            <li>テスト録画が終わったら「終了」ボタンを押します。すると、録画された動画のダウンロードが自動的に開始されます。

            </li>
            <li class="font-semibold text-red-600">
              <strong>重要：</strong> ブラウザから「ファイルのダウンロードを許可しますか？」といった趣旨の確認が表示された場合は、<strong class="underline">必ず「許可」をクリック</strong>してください。一度許可すると、次回以降のダウンロードではこの確認は表示されません。許可しないと、撮影データが保存されません。
              <div class="my-2 rounded-md overflow-hidden shadow">
                <img src="allow.png" alt="参加者番号入力欄のスクリーンショット" style="width:50%; height:50%; object-fit:contain;">
              </div>
            </li>
          </ul>
        </li>
      </ul>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-8">2. 撮影環境の準備</h3>
      <ul class="list-disc list-inside space-y-2 text-stone-700">
        <li>
          <strong>顔の位置調整:</strong> カメラにご自身の顔がはっきりと映るように位置を調整してください。顔全体、特に口元が明瞭に確認できるように、画面の中央に来るのが理想です。
        </li>
        <li>
          <strong>静かな場所の選択:</strong> 周囲の雑音（話し声、物音、機械音など）ができるだけ入らない静かな場所で撮影を行ってください。マイクは小さな音も拾ってしまいます。
        </li>
        <li>
          <strong>照明:</strong> 顔が明るくはっきりと見えるように、部屋の照明を調整してください。逆光になったり、顔に影ができたりしないように注意しましょう。
        </li>
      </ul>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-8">3. 発話時の注意点</h3>
      <ul class="list-disc list-inside space-y-2 text-stone-700">
        <li>
          <strong>明瞭な発話:</strong> 画面に表示される文章を、一語一語はっきりと、普段話すような自然な声の大きさで読み上げてください。早口になったり、声が小さすぎたりしないように意識しましょう。
        </li>
        <li>
          <strong>発話のタイミングと長さ:</strong> 1つの文章を読み終えるのに、およそ2～3秒程度を目安にしてください。極端に長く間をあけたり、急いで読み終えたりしないようお願いします。
        </li>
        <li>
          <strong>視線:</strong> 可能であれば、カメラのレンズの少し上あたりを見るように意識すると、より自然な映像になります。ただし、文章を読むために画面を見ることは問題ありません。
        </li>
      </ul>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-8">4. 本番撮影中の操作</h3>
      <ul class="list-disc list-inside space-y-2 text-stone-700">
        <li>
          <strong>録画開始のタイミング:</strong> 「次へ」ボタンまたは「やり直し」ボタンをクリックした時点で、その文章の録画が自動的に開始されます。ボタンを押したら、すぐに発話を開始して大丈夫です。
        </li>
        <li>
          <strong>次の文へ:</strong> 1つの文章を読み終えたら、画面上の「次へ」ボタンをクリックするか、<kbd class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg">Enter</kbd> キーを押してください。次の文章が表示され、録画が開始されます。
        </li>
        <li>
          <strong>読み間違えた場合:</strong> もし文章を読み間違えたり、言い直したい場合は、画面上の「やり直し」ボタンをクリックしてください。現在の文章の録画をキャンセルし、同じ文章をもう一度録画することができます。
        </li>
        <li>
          <strong>休憩:</strong> 撮影の途中で休憩を取りたい場合は、「休憩」ボタンをクリックしてください。
        </li>
      </ul>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-8">5. その他</h3>
      <ul class="list-disc list-inside space-y-2 text-stone-700">
        <li>
          <strong>リラックスして:</strong> 緊張せず、普段通りリラックスして撮影に臨んでください。
        </li>
        <li>
          <strong>ご協力に感謝します:</strong> 皆様のご協力が、日本語リップリーディング研究の大きな力となります。どうぞよろしくお願いいたします。
        </li>
      </ul>

      <h3 class="text-xl font-semibold text-blue-700 mb-2 mt-8">6. 撮影終了後：ファイルのアップロード</h3>
      <ul class="list-disc list-inside space-y-3 text-stone-700">
        <li>
          1つのバッチ（100文章）の撮影が完了すると、録画された動画ファイル（通常は`.mp4`形式）と発話した文章ファイル（通常は`.txt`形式が、お使いのPCの「ダウンロード」フォルダに自動的に保存されます。
        </li>
        <li class="font-semibold text-red-600">
          <strong>重要：</strong> 各バッチの撮影が完了するたびに、ダウンロードされた動画ファイルを指定のGoogle Driveフォルダにアップロードしてください。
        </li>
        <li>
          ファイル名は、参加者番号とバッチ番号が含まれたものになっているはずです（例: <samp class="bg-stone-200 px-1 rounded">s3_batch1_1.mp4 と　s3_batch1_1.mp4</samp>）。ファイル名を変更せずにそのままアップロードしてください。
        </li>
        <li>
          全てのバッチ（10バッチ）の撮影とアップロードが完了したら、研究担当者にご連絡ください。
        </li>
      </ul>

      <div class="mt-10 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
        <a href="https://sthasmn.github.io/sthasmn/camera/" target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 text-center">
          実際の撮影ページへ進む
        </a>
        <a href="https://drive.google.com/drive/folders/1AiF_rUCamsYbAAO6ZknZ9WzWcbtThbe8?usp=sharing" target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto inline-block bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-75 text-center">
          撮影済みファイルをアップ
        </a>
      </div>
    </div>
  </section>
</main>

<footer class="bg-stone-800 text-stone-300 text-center p-6 mt-12">
  <p>&copy; 2025 JGRIDコーパス. All rights reserved.</p>
  <p class="text-sm mt-1">Suman Shrestha sthasmn@gmail.com</p>
</footer>

<script>
  const navButtons = document.querySelectorAll('.nav-button');
  const tabContents = document.querySelectorAll('.tab-content');
  const goToRecordingGuideBtn = document.getElementById('goToRecordingGuideBtn');

  function setActiveTab(tabId) {
    // Deactivate all tabs and buttons
    tabContents.forEach(content => {
      content.classList.remove('active');
      content.style.opacity = 0; // Start fade out
    });
    navButtons.forEach(btn => {
      btn.classList.remove('active-tab');
    });

    const newActiveTabContent = document.getElementById(tabId);
    const newActiveNavButton = document.querySelector(`.nav-button[data-tab="${tabId}"]`);

    if (newActiveTabContent) {
      // Hide all tabs first, then show the active one after a short delay for fade out
      setTimeout(() => {
        tabContents.forEach(content => {
          if(content.id !== tabId) {
            content.style.display = 'none';
          }
        });

        newActiveTabContent.style.display = 'block'; // Make it visible for transition
        // Force reflow to ensure opacity transition works from 0
        newActiveTabContent.offsetWidth;
        newActiveTabContent.style.opacity = 1; // Start fade in
        newActiveTabContent.classList.add('active');
      }, tabContents.length > 0 ? 150 : 0); // Delay if there were other tabs to fade out
    }

    if (newActiveNavButton) {
      newActiveNavButton.classList.add('active-tab');
    }
    // Scroll to the top of the main content area when a tab is activated
    const mainContentArea = document.querySelector('main');
    if (mainContentArea) {
      mainContentArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }

  // Initial setup: activate the first tab
  document.addEventListener('DOMContentLoaded', () => {
    const firstTabButton = navButtons[0];
    if (firstTabButton) {
      setActiveTab(firstTabButton.dataset.tab);
    }
  });

  // Event listeners for tab navigation
  navButtons.forEach(button => {
    button.addEventListener('click', () => {
      setActiveTab(button.dataset.tab);
    });
  });

  // Event listener for the "動画撮影の説明へ進む" button
  if (goToRecordingGuideBtn) {
    goToRecordingGuideBtn.addEventListener('click', (event) => {
      event.preventDefault();
      setActiveTab('recording-guide');
    });
  }
</script>
</body>
</html>
