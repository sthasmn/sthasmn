<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UpperLimbs - 3D Upper Body Movement Tracking</title>
    <style>
        /* General Body and Typography Styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.7;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #212529;
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 960px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        /* Header and Title Styles */
        header {
            text-align: center;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 2rem;
            margin-bottom: 2rem;
        }
        h1 {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        h2 {
            font-size: 2rem;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }
        h3 {
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 500;
        }
        .subtitle {
            font-size: 1.2rem;
            color: #6c757d;
            margin-top: 0;
            margin-bottom: 1rem;
        }
        .badges img {
            margin: 0 5px;
        }

        /* Content-specific Styles */
        .demo-gif {
            max-width: 100%;
            border-radius: 6px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.9em;
            background-color: #e9ecef;
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }
        pre {
            background-color: #282c34;
            color: #abb2bf;
            padding: 1.5rem;
            border-radius: 6px;
            overflow-x: auto;
            white-space: pre;
        }
        pre code {
            background: none;
            padding: 0;
            font-size: 0.9rem;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 0.5rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        tbody tr:hover {
            background-color: #f8f9fa;
        }
        .key-press {
            display: inline-block;
            background-color: #f1f3f5;
            border: 1px solid #ced4da;
            border-radius: 4px;
            padding: 2px 8px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.85em;
            color: #495057;
            box-shadow: 0 1px 1px rgba(0,0,0,0.1);
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }

        /* Language Switcher Styles */
        .lang-switcher {
            text-align: center;
            margin-bottom: 2rem;
        }
        .lang-switcher button {
            background: none;
            border: none;
            color: #007bff;
            cursor: pointer;
            font-size: 1rem;
            padding: 5px 10px;
            margin: 0 5px;
            border-radius: 5px;
            transition: background-color 0.2s, color 0.2s;
        }
        .lang-switcher button:hover {
            text-decoration: underline;
        }
        .lang-switcher button.active {
            font-weight: bold;
            color: #0056b3;
            background-color: #e7f1ff;
            text-decoration: none;
        }

        /* --- NEW: Language Visibility Rules --- */
        /* By default, hide Japanese content */
        html[lang="en"] [lang="ja"] {
            display: none;
        }
        /* When Japanese is selected, hide English content */
        html[lang="ja"] [lang="en"] {
            display: none;
        }
        /* And show Japanese content */
        html[lang="ja"] [lang="ja"] {
            display: inline; /* Use 'inline' as it's safe for <span> tags */
        }


        /* Footer Styles */
        footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 1.5rem;
            font-size: 0.9rem;
            color: #6c757d;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Language Switcher -->
        <div class="lang-switcher">
            <button id="lang-en-btn" class="active" onclick="setLanguage('en')">English</button> |
            <button id="lang-ja-btn" onclick="setLanguage('ja')">æ—¥æœ¬èª</button>
        </div>

        <header>
            <h1>UpperLimbs</h1>
            <p class="subtitle">
                <span lang="en">A Python module for real-time 3D tracking of upper body and hand movements using a standard webcam, powered by Google's MediaPipe framework.</span>
                <span lang="ja">Googleã®MediaPipeãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’åˆ©ç”¨ã—ã€ä¸€èˆ¬çš„ãªã‚¦ã‚§ãƒ–ã‚«ãƒ¡ãƒ©ã§ä¸ŠåŠèº«ã¨æ‰‹ã®å‹•ãã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«3Dãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®Pythonãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ã€‚</span>
            </p>
            <div class="badges">
                <img src="https://img.shields.io/badge/python-3.8+-blue.svg" alt="Python Version">
                <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT">
            </div>
        </header>

        <section id="demo">
            <h2>
                <span lang="en">Demo</span>
                <span lang="ja">ãƒ‡ãƒ¢</span>
            </h2>
            <img src="https://raw.githubusercontent.com/sthasmn/UpperLimbs/main/Demo/upperlimbs_demo.gif" alt="UpperLimbs Demo GIF" class="demo-gif">
            <p>
                <span lang="en">This tool captures pose and hand landmarks, transforms them into a unified coordinate system, and provides simple methods to access the raw 3D data or generate a live 3D visualization of the skeleton.</span>
                <span lang="ja">ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€å§¿å‹¢ã¨æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã€çµ±ä¸€ã•ã‚ŒãŸåº§æ¨™ç³»ã«å¤‰æ›ã—ã¾ã™ã€‚ãã—ã¦ã€ç”Ÿã®3Dãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€éª¨æ ¼ã®ãƒ©ã‚¤ãƒ–3Dãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ãŸã‚Šã™ã‚‹ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚</span>
            </p>
        </section>

        <section id="features">
            <h2>
                <span lang="en">Features âœ¨</span>
                <span lang="ja">æ©Ÿèƒ½ âœ¨</span>
            </h2>
            <ul>
                <li>
                    <span lang="en"><strong>Real-time Performance:</strong> Tracks upper body and hand landmarks directly from a webcam or video file.</span>
                    <span lang="ja"><strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§èƒ½ï¼š</strong> ã‚¦ã‚§ãƒ–ã‚«ãƒ¡ãƒ©ã‚„ãƒ“ãƒ‡ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç›´æ¥ã€ä¸ŠåŠèº«ã¨æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’è¿½è·¡ã—ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>Unified 3D Coordinates:</strong> Combines pose and hand landmarks into a single, easy-to-use data structure.</span>
                    <span lang="ja"><strong>çµ±ä¸€ã•ã‚ŒãŸ3Dåº§æ¨™ï¼š</strong> å§¿å‹¢ã¨æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’ã€å˜ä¸€ã®ä½¿ã„ã‚„ã™ã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«çµ±åˆã—ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>Shoulder-Centric Origin:</strong> Transforms coordinates to a stable system with the origin at the center of the shoulders.</span>
                    <span lang="ja"><strong>è‚©ä¸­å¿ƒã®åŸç‚¹ï¼š</strong> åº§æ¨™ã‚’ä¸¡è‚©ã®ä¸­å¿ƒã‚’åŸç‚¹ã¨ã™ã‚‹å®‰å®šã—ãŸã‚·ã‚¹ãƒ†ãƒ ã«å¤‰æ›ã—ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>Live 3D Visualization:</strong> Includes a built-in method to generate a dynamic 3D plot of the skeleton.</span>
                    <span lang="ja"><strong>ãƒ©ã‚¤ãƒ–3Då¯è¦–åŒ–ï¼š</strong> éª¨æ ¼ã®å‹•çš„ãª3Dãƒ—ãƒ­ãƒƒãƒˆã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®çµ„ã¿è¾¼ã¿ãƒ¡ã‚½ãƒƒãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>Simple API:</strong> Designed to be easily integrated into other applications for data analysis, interactive art, or physical therapy research.</span>
                    <span lang="ja"><strong>ã‚·ãƒ³ãƒ—ãƒ«ãªAPIï¼š</strong> ãƒ‡ãƒ¼ã‚¿åˆ†æã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ãƒˆã€ç†å­¦ç™‚æ³•ç ”ç©¶ãªã©ã€ä»–ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ç°¡å˜ã«çµ±åˆã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚</span>
                </li>
            </ul>
        </section>

        <section id="how-it-works">
            <h2>
                <span lang="en">How It Works âš™ï¸</span>
                <span lang="ja">å‹•ä½œã®ä»•çµ„ã¿ âš™ï¸</span>
            </h2>
            <p>
                <span lang="en">The module follows a straightforward processing pipeline to generate the final 3D coordinates:</span>
                <span lang="ja">ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã€æœ€çµ‚çš„ãª3Dåº§æ¨™ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®å˜ç´”ãªå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å¾“ã„ã¾ã™ã€‚</span>
            </p>
            <ol>
                <li>
                    <span lang="en"><strong>Frame Capture:</strong> An image is captured from a video source (like a webcam).</span>
                    <span lang="ja"><strong>ãƒ•ãƒ¬ãƒ¼ãƒ å–å¾—ï¼š</strong> ãƒ“ãƒ‡ã‚ªã‚½ãƒ¼ã‚¹ï¼ˆã‚¦ã‚§ãƒ–ã‚«ãƒ¡ãƒ©ãªã©ï¼‰ã‹ã‚‰ç”»åƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>MediaPipe Processing:</strong> The image is fed into MediaPipe's <strong>Pose</strong> and <strong>Hands</strong> models, which detect and return the 3D world landmarks for each part.</span>
                    <span lang="ja"><strong>MediaPipeå‡¦ç†ï¼š</strong> ç”»åƒã‚’MediaPipeã®<strong>Pose</strong>ãŠã‚ˆã³<strong>Hands</strong>ãƒ¢ãƒ‡ãƒ«ã«å…¥åŠ›ã—ã€å„éƒ¨ä½ã®3Dãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’æ¤œå‡ºãƒ»è¿”å´ã•ã›ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>Coordinate Transformation:</strong></span>
                    <span lang="ja"><strong>åº§æ¨™å¤‰æ›ï¼š</strong></span>
                    <ul>
                        <li>
                            <span lang="en">The origin of the coordinate system is moved from the hips (MediaPipe's default) to the center point between the left and right shoulders. This provides a more stable origin for upper-body movements.</span>
                            <span lang="ja">åº§æ¨™ç³»ã®åŸç‚¹ã‚’ã€MediaPipeã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚‹è…°ã®ä¸­å¿ƒã‹ã‚‰ã€ä¸¡è‚©ã®ä¸­å¿ƒç‚¹ã«ç§»å‹•ã•ã›ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä¸ŠåŠèº«ã®å‹•ãã«å¯¾ã—ã¦ã‚ˆã‚Šå®‰å®šã—ãŸåŸç‚¹ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</span>
                        </li>
                        <li>
                            <span lang="en">The hand landmarks, which have their own local coordinate systems, are translated to align with the wrist landmarks from the pose model.</span>
                            <span lang="ja">ç‹¬è‡ªãƒ­ãƒ¼ã‚«ãƒ«åº§æ¨™ç³»ã‚’æŒã¤æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’ã€å§¿å‹¢ãƒ¢ãƒ‡ãƒ«ã®æ‰‹é¦–ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã«æƒã†ã‚ˆã†ã«å¹³è¡Œç§»å‹•ã•ã›ã¾ã™ã€‚</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <span lang="en"><strong>Data Combination:</strong> The transformed pose and hand landmarks are combined into a single list of 48 points.</span>
                    <span lang="ja"><strong>ãƒ‡ãƒ¼ã‚¿çµ±åˆï¼š</strong> å¤‰æ›ã•ã‚ŒãŸå§¿å‹¢ã¨æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’ã€48ç‚¹ã§æ§‹æˆã•ã‚Œã‚‹å˜ä¸€ã®ãƒªã‚¹ãƒˆã«çµ±åˆã—ã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en"><strong>Output:</strong> This final list of coordinates can be retrieved with <code>.get_coordinates()</code> or visualized with <code>.visualize()</code>.</span>
                    <span lang="ja"><strong>å‡ºåŠ›ï¼š</strong> ã“ã®æœ€çµ‚çš„ãªåº§æ¨™ãƒªã‚¹ãƒˆã¯ã€<code>.get_coordinates()</code>ã§å–å¾—ã™ã‚‹ã‹ã€<code>.visualize()</code>ã§å¯è¦–åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</span>
                </li>
            </ol>
        </section>

        <section id="installation">
            <h2>
                <span lang="en">Installation ğŸš€</span>
                <span lang="ja">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ğŸš€</span>
            </h2>
            <p>
                <span lang="en">It is highly recommended to use a virtual environment to avoid conflicts with other projects.</span>
                <span lang="ja">ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã®ç«¶åˆã‚’é¿ã‘ã‚‹ãŸã‚ã€ä»®æƒ³ç’°å¢ƒï¼ˆvirtual environmentï¼‰ã®ä½¿ç”¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚</span>
            </p>

            <h3>
                <span lang="en">1. Clone the Repository</span>
                <span lang="ja">1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³</span>
            </h3>
            <pre><code>git clone https://github.com/sthasmn/UpperLimbs.git
cd UpperLimbs</code></pre>

            <h3>
                <span lang="en">2. Create and Activate a Virtual Environment (Optional, but recommended)</span>
                <span lang="ja">2. ä»®æƒ³ç’°å¢ƒã®ä½œæˆã¨æœ‰åŠ¹åŒ–ï¼ˆä»»æ„ã§ã™ãŒæ¨å¥¨ï¼‰</span>
            </h3>
            <p>
                <span lang="en">For macOS/Linux:</span>
                <span lang="ja">macOS/Linuxã®å ´åˆï¼š</span>
            </p>
            <pre><code>python3 -m venv venv
source venv/bin/activate</code></pre>
            <p>
                <span lang="en">For Windows:</span>
                <span lang="ja">Windowsã®å ´åˆï¼š</span>
            </p>
            <pre><code>python -m venv venv
.\venv\Scripts\activate</code></pre>

            <h3>
                <span lang="en">3. Install the Package</span>
                <span lang="ja">3. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
            </h3>
            <p>
                <span lang="en">This command will also install all required dependencies like <code>opencv</code>, <code>mediapipe</code>, and <code>matplotlib</code>.</span>
                <span lang="ja">ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€<code>opencv</code>ã€<code>mediapipe</code>ã€<code>matplotlib</code>ãªã©ã®å¿…è¦ãªä¾å­˜é–¢ä¿‚ã‚‚ã™ã¹ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚</span>
            </p>
            <pre><code>pip install .</code></pre>
            <p>
                <span lang="en">If you intend to modify the source code, install it in "editable" mode:</span>
                <span lang="ja">ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†ã™ã‚‹äºˆå®šãŒã‚ã‚‹å ´åˆã¯ã€ã€Œç·¨é›†å¯èƒ½ï¼ˆeditableï¼‰ã€ãƒ¢ãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚</span>
            </p>
            <pre><code>pip install -e .</code></pre>
        </section>

        <section id="usage">
            <h2>
                <span lang="en">Usage ğŸ‘¨â€ğŸ’»</span>
                <span lang="ja">ä½¿ç”¨æ–¹æ³• ğŸ‘¨â€ğŸ’»</span>
            </h2>

            <h3>
                <span lang="en">Running the Demo</span>
                <span lang="ja">ãƒ‡ãƒ¢ã®å®Ÿè¡Œ</span>
            </h3>
            <p>
                <span lang="en">The included <code>main.py</code> script provides a simple demonstration using a webcam.</span>
                <span lang="ja">åŒæ¢±ã•ã‚Œã¦ã„ã‚‹<code>main.py</code>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ã‚¦ã‚§ãƒ–ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ãŸç°¡å˜ãªãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚</span>
            </p>
            <pre><code>python main.py</code></pre>
            <ul>
                <li>
                    <span lang="en">A preview window will appear showing the webcam feed with 2D landmarks drawn on it.</span>
                    <span lang="ja">ã‚¦ã‚§ãƒ–ã‚«ãƒ¡ãƒ©ã®æ˜ åƒã«2Dãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ãŒæç”»ã•ã‚ŒãŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en">Press the <span class="key-press">v</span> key to open or close the live 3D visualization window.</span>
                    <span lang="ja"><span class="key-press">v</span> ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ã€ãƒ©ã‚¤ãƒ–3Då¯è¦–åŒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã„ãŸã‚Šé–‰ã˜ãŸã‚Šã§ãã¾ã™ã€‚</span>
                </li>
                <li>
                    <span lang="en">Press the <span class="key-press">q</span> key to quit the application.</span>
                    <span lang="ja"><span class="key-press">q</span> ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã—ã¾ã™ã€‚</span>
                </li>
            </ul>

            <h3>
                <span lang="en">Programmatic Use</span>
                <span lang="ja">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã®åˆ©ç”¨</span>
            </h3>
            <p>
                <span lang="en">Integrating the <code>upperlimbs</code> module into your own project is simple.</span>
                <span lang="ja"><code>upperlimbs</code>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è‡ªèº«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«çµ±åˆã™ã‚‹ã®ã¯ç°¡å˜ã§ã™ã€‚</span>
            </p>
            <pre><code>import cv2
import upperlimbs

# 1. UpperLimbsã‚¯ãƒ©ã‚¹ã‚’åˆæœŸåŒ–
ul = upperlimbs.UpperLimbs()

# 2. ãƒ“ãƒ‡ã‚ªã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’é–‹å§‹ï¼ˆ0ã¯ã‚¦ã‚§ãƒ–ã‚«ãƒ¡ãƒ©ã€ã¾ãŸã¯ãƒ“ãƒ‡ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ï¼‰
cap = cv2.VideoCapture(0)

while cap.isOpened():
    success, image = cap.read()
    if not success:
        break

    # 3. ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’å‡¦ç†
    ul.process_frame(image)

    # 4. åº§æ¨™ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    coordinates = ul.get_coordinates()
    if coordinates:
        # coordinatesã¯48ç‚¹ã®ãƒªã‚¹ãƒˆã§ã™ã€‚
        # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æŒ‡å®šã—ã¦å³æ‰‹é¦–ã®åº§æ¨™ã‚’å–å¾—ã—ã¾ã™ã€‚
        right_wrist_coords = coordinates[5]
        print(f"Right Wrist [X, Y, Z]: {right_wrist_coords}")

    # 5. (ä»»æ„) ãƒ©ã‚¤ãƒ–3Dãƒ—ãƒ­ãƒƒãƒˆã‚’è¡¨ç¤º
    ul.visualize()

    # 6. (ä»»æ„) 2Dãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º
    annotated_image = ul.draw_landmarks(image.copy())
    cv2.imshow("My Preview", annotated_image)

    # 'ESC'ã‚­ãƒ¼ã§çµ‚äº†
    if cv2.waitKey(5) & 0xFF == 27:
        break

# 7. ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾
cap.release()
cv2.destroyAllWindows()
ul.close()</code></pre>
        </section>

        <section id="api-reference">
            <h2>
                <span lang="en">API Reference ğŸ“–</span>
                <span lang="ja">APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ ğŸ“–</span>
            </h2>
            <p>
                <span lang="en">The primary interface is the <code>UpperLimbs</code> class.</span>
                <span lang="ja">ä¸»è¦ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯<code>UpperLimbs</code>ã‚¯ãƒ©ã‚¹ã§ã™ã€‚</span>
            </p>
            <p><code>ul = upperlimbs.UpperLimbs(min_detection_confidence=0.5, min_tracking_confidence=0.5)</code><br>
                <span lang="en">Initializes the processor. You can optionally adjust the MediaPipe model confidence levels.</span>
                <span lang="ja">ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚ä»»æ„ã§MediaPipeãƒ¢ãƒ‡ãƒ«ã®ä¿¡é ¼åº¦ã®é–¾å€¤ã‚’èª¿æ•´ã§ãã¾ã™ã€‚</span>
            </p>

            <p><code>coordinates = ul.process_frame(image)</code><br>
                <span lang="en">Processes a single image frame (a NumPy array in BGR format) and returns the list of 48 3D coordinates.</span>
                <span lang="ja">å˜ä¸€ã®ç”»åƒãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆBGRå½¢å¼ã®NumPyé…åˆ—ï¼‰ã‚’å‡¦ç†ã—ã€48ç‚¹ã®3Dåº§æ¨™ã®ãƒªã‚¹ãƒˆã‚’è¿”ã—ã¾ã™ã€‚</span>
            </p>

            <p><code>coordinates = ul.get_coordinates()</code><br>
                <span lang="en">Returns the list of coordinates from the last successfully processed frame. Returns <code>None</code> if no landmarks were found.</span>
                <span lang="ja">æœ€å¾Œã«æ­£å¸¸ã«å‡¦ç†ã•ã‚ŒãŸãƒ•ãƒ¬ãƒ¼ãƒ ã®åº§æ¨™ãƒªã‚¹ãƒˆã‚’è¿”ã—ã¾ã™ã€‚ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ãŒè¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸå ´åˆã¯<code>None</code>ã‚’è¿”ã—ã¾ã™ã€‚</span>
            </p>

            <p><code>ul.visualize()</code><br>
                <span lang="en">Opens or updates a Matplotlib 3D plot window showing the skeleton based on the last processed coordinates.</span>
                <span lang="ja">æœ€å¾Œã«å‡¦ç†ã•ã‚ŒãŸåº§æ¨™ã«åŸºã¥ãã€éª¨æ ¼ã‚’è¡¨ç¤ºã™ã‚‹Matplotlibã®3Dãƒ—ãƒ­ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãã‹æ›´æ–°ã—ã¾ã™ã€‚</span>
            </p>

            <p><code>annotated_image = ul.draw_landmarks(image)</code><br>
                <span lang="en">Draws the 2D pose and hand landmarks detected by MediaPipe onto the provided image and returns the annotated image.</span>
                <span lang="ja">MediaPipeã«ã‚ˆã£ã¦æ¤œå‡ºã•ã‚ŒãŸ2Dã®å§¿å‹¢ã¨æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’æä¾›ã•ã‚ŒãŸç”»åƒã«æç”»ã—ã€ãã®ç”»åƒã‚’è¿”ã—ã¾ã™ã€‚</span>
            </p>

            <p><code>ul.close()</code><br>
                <span lang="en">Releases the MediaPipe model resources. Should be called when you are finished.</span>
                <span lang="ja">MediaPipeãƒ¢ãƒ‡ãƒ«ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã—ã¾ã™ã€‚å‡¦ç†ãŒçµ‚äº†ã—ãŸã¨ãã«å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</span>
            </p>
        </section>

        <section id="output-coordinate-system">
            <h2>
                <span lang="en">Output Coordinate System</span>
                <span lang="ja">å‡ºåŠ›åº§æ¨™ç³»</span>
            </h2>
            <p>
                <span lang="en">The <code>.get_coordinates()</code> method returns a single list containing <strong>48 points</strong>. Each point is a sub-list of <code>[X, Y, Z]</code> coordinates.</span>
                <span lang="ja"><code>.get_coordinates()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€<strong>48å€‹ã®ç‚¹</strong>ã‚’å«ã‚€å˜ä¸€ã®ãƒªã‚¹ãƒˆã‚’è¿”ã—ã¾ã™ã€‚å„ç‚¹ã¯<code>[X, Y, Z]</code>åº§æ¨™ã®ã‚µãƒ–ãƒªã‚¹ãƒˆã§ã™ã€‚</span>
            </p>
            <p>
                <span lang="en">The origin <code>(0, 0, 0)</code> is the center point between the shoulders. The units are roughly metric but are scaled based on the person's detected pose.</span>
                <span lang="ja">åŸç‚¹<code>(0, 0, 0)</code>ã¯ä¸¡è‚©ã®ä¸­å¿ƒç‚¹ã§ã™ã€‚å˜ä½ã¯ãŠãŠã‚ˆããƒ¡ãƒ¼ãƒˆãƒ«ã§ã™ãŒã€æ¤œå‡ºã•ã‚ŒãŸäººç‰©ã®å§¿å‹¢ã«åŸºã¥ã„ã¦ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚</span>
            </p>
            <ul>
                <li>
                    <span lang="en"><strong>+X</strong> is to your right</span>
                    <span lang="ja"><strong>+X</strong>ã¯ã‚ãªãŸã®å³æ–¹å‘ã§ã™</span>
                </li>
                <li>
                    <span lang="en"><strong>+Y</strong> is up</span>
                    <span lang="ja"><strong>+Y</strong>ã¯ä¸Šæ–¹å‘ã§ã™</span>
                </li>
                <li>
                    <span lang="en"><strong>+Z</strong> is towards you (out of the screen)</span>
                    <span lang="ja"><strong>+Z</strong>ã¯æ‰‹å‰æ–¹å‘ï¼ˆç”»é¢ã‹ã‚‰å‡ºã¦ãã‚‹æ–¹å‘ï¼‰ã§ã™</span>
                </li>
            </ul>

            <table>
                <thead>
                    <tr>
                        <th><span lang="en">Index Range</span><span lang="ja">ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç¯„å›²</span></th>
                        <th><span lang="en">Part</span><span lang="ja">éƒ¨ä½</span></th>
                        <th><span lang="en">Number of Points</span><span lang="ja">ç‚¹æ•°</span></th>
                        <th><span lang="en">Details</span><span lang="ja">è©³ç´°</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>0 - 5</code></td>
                        <td><strong><span lang="en">Pose (Torso/Arms)</span><span lang="ja">å§¿å‹¢ï¼ˆèƒ´ä½“/è…•ï¼‰</span></strong></td>
                        <td>6</td>
                        <td><span lang="en">The main joints of the upper body. See detailed breakdown below.</span><span lang="ja">ä¸ŠåŠèº«ã®ä¸»è¦ãªé–¢ç¯€ã€‚è©³ç´°ã¯ä»¥ä¸‹ã‚’å‚ç…§ã€‚</span></td>
                    </tr>
                    <tr>
                        <td><code>6 - 26</code></td>
                        <td><strong><span lang="en">Left Hand</span><span lang="ja">å·¦æ‰‹</span></strong></td>
                        <td>21</td>
                        <td><span lang="en">All landmarks for the left hand. Connects to the Left Wrist (Index 4).</span><span lang="ja">å·¦æ‰‹ã®ã™ã¹ã¦ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã€‚å·¦æ‰‹é¦–ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹4ï¼‰ã«æ¥ç¶šã€‚</span></td>
                    </tr>
                    <tr>
                        <td><code>27 - 47</code></td>
                        <td><strong><span lang="en">Right Hand</span><span lang="ja">å³æ‰‹</span></strong></td>
                        <td>21</td>
                        <td><span lang="en">All landmarks for the right hand. Connects to the Right Wrist (Index 5).</span><span lang="ja">å³æ‰‹ã®ã™ã¹ã¦ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã€‚å³æ‰‹é¦–ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹5ï¼‰ã«æ¥ç¶šã€‚</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>
                <span lang="en">Detailed Breakdown of Pose Landmarks (Indices 0-5):</span>
                <span lang="ja">å§¿å‹¢ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã®è©³ç´°ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 0-5ï¼‰ï¼š</span>
            </h3>
            <ul>
                <li><code>Index 0</code>: <span lang="en">Left Shoulder</span><span lang="ja">å·¦è‚©</span></li>
                <li><code>Index 1</code>: <span lang="en">Right Shoulder</span><span lang="ja">å³è‚©</span></li>
                <li><code>Index 2</code>: <span lang="en">Left Elbow</span><span lang="ja">å·¦è‚˜</span></li>
                <li><code>Index 3</code>: <span lang="en">Right Elbow</span><span lang="ja">å³è‚˜</span></li>
                <li><code>Index 4</code>: <span lang="en">Left Wrist</span><span lang="ja">å·¦æ‰‹é¦–</span></li>
                <li><code>Index 5</code>: <span lang="en">Right Wrist</span><span lang="ja">å³æ‰‹é¦–</span></li>
            </ul>

            <h3>
                <span lang="en">Detailed Breakdown of Hand Landmarks (Indices 6-47):</span>
                <span lang="ja">æ‰‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã®è©³ç´°ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 6-47ï¼‰ï¼š</span>
            </h3>
            <p>
                <span lang="en">The 21 landmarks for each hand follow the standard MediaPipe Hand Landmark Model. For a visual diagram of these points, please refer to the official <a href="https://developers.google.com/mediapipe/solutions/vision/hand_landmarker#hand-landmarks" target="_blank" rel="noopener noreferrer">MediaPipe Hands documentation</a>.</span>
                <span lang="ja">å„æ‰‹ã®21å€‹ã®ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã¯ã€æ¨™æº–ã®MediaPipe Hand Landmark Modelã«å¾“ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ç‚¹ã®è¦–è¦šçš„ãªå›³ã«ã¤ã„ã¦ã¯ã€å…¬å¼ã®<a href="https://developers.google.com/mediapipe/solutions/vision/hand_landmarker#hand-landmarks" target="_blank" rel="noopener noreferrer">MediaPipe Handsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</span>
            </p>
        </section>

        <section id="citation">
            <h2>
                <span lang="en">Citation ğŸ“œ</span>
                <span lang="ja">å¼•ç”¨ ğŸ“œ</span>
            </h2>
            <p>
                <span lang="en">If you use this software in your research or a publication, we would appreciate it if you would cite the following paper:</span>
                <span lang="ja">ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ç ”ç©¶ã‚„å‡ºç‰ˆç‰©ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®è«–æ–‡ã‚’å¼•ç”¨ã—ã¦ã„ãŸã ã‘ã¾ã™ã¨å¹¸ã„ã§ã™ã€‚</span>
            </p>
            <p><strong>S. Shrestha, H. Takami, Y. Honda and M. Irie, "Research on Measurement System of Upper Limb by Using Single Monocular Web Camera and Inference AI," <i>2024 17th International Convention on Rehabilitation Engineering and Assistive Technology (i-CREATe)</i>, 2024, pp. 1-4, doi: 10.1109/i-CREATe62067.2024.10776555.</strong></p>

            <p>
                <span lang="en">For your convenience, you can use the following BibTeX entry:</span>
                <span lang="ja">ä¾¿å®œä¸Šã€æ¬¡ã®BibTeXã‚¨ãƒ³ãƒˆãƒªã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</span>
            </p>
            <pre><code>@INPROCEEDINGS{10776555,
  author={Shrestha, Suman and Takami, Hibiki and Honda, Yuichiro and Irie, Mitsuru},
  booktitle={2024 17th International Convention on Rehabilitation Engineering and Assistive Technology (i-CREATe)},
  title={Research on Measurement System of Upper Limb by Using Single Monocular Web Camera and Inference AI},
  year={2024},
  pages={1-4},
  doi={10.1109/i-CREATe62067.2024.10776555}
}</code></pre>
        </section>

        <section id="dependencies">
            <h2>
                <span lang="en">Dependencies ğŸ“¦</span>
                <span lang="ja">ä¾å­˜é–¢ä¿‚ ğŸ“¦</span>
            </h2>
            <p>
                <span lang="en">This project's dependencies will be installed automatically when you run <code>pip install .</code>.</span>
                <span lang="ja">ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã¯ã€<code>pip install .</code> ã‚’å®Ÿè¡Œã™ã‚‹ã¨è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚</span>
            </p>
            <ul>
                <li><code>opencv-python</code></li>
                <li><code>mediapipe</code></li>
                <li><code>numpy</code></li>
                <li><code>matplotlib</code></li>
            </ul>
        </section>

        <footer>
            <p>
                <span lang="en">Generated from project README.md.</span>
                <span lang="ja">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®README.mdã‹ã‚‰ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚</span>
            </p>
        </footer>
    </div>

    <script>
        // --- REVISED: Language Switching Logic ---

        // Function to set the language
        function setLanguage(lang) {
            // Set the 'lang' attribute on the root <html> element.
            // CSS rules will handle showing/hiding the correct content.
            document.documentElement.lang = lang;

            // Update active state on buttons
            document.getElementById('lang-en-btn').classList.toggle('active', lang === 'en');
            document.getElementById('lang-ja-btn').classList.toggle('active', lang === 'ja');
        }

        // Set the initial language based on the browser's preference, default to English
        function initializeLanguage() {
            const userLang = (navigator.language || navigator.userLanguage).split('-')[0];
            if (userLang === 'ja') {
                setLanguage('ja');
            } else {
                setLanguage('en');
            }
        }

        // Run the initialization as soon as the script is parsed
        initializeLanguage();
    </script>

</body>
</html>
